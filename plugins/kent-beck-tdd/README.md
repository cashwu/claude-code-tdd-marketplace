# Kent Beck TDD Plugin

純粹的測試驅動開發方法，基於 Kent Beck 的經典著作《Test-Driven Development: By Example》。

## 理念

這個 plugin 實現了 Kent Beck 的有機 TDD 方法：

- **從測試開始，不從計劃開始**：不寫詳細的需求文件，從第一個簡單的測試開始
- **讓設計自然演進**：通過測試驅動，讓設計逐步浮現
- **小步快跑**：快速的 Red-Green-Refactor 循環，每輪幾分鐘
- **擁抱簡單**：用最簡單的方式讓測試通過，包括硬編碼
- **信心驅動節奏**：根據自己的信心調整步伐大小

## 核心原則

### 1. 三種實作策略
- **Fake It（假實作）**：先硬編碼返回值，用下一個測試逼出真實作
- **Obvious Implementation（明顯實作）**：當實作很明顯時，直接寫出來
- **Triangulation（三角測量）**：用多個測試從不同角度推導出正確實作

### 2. 消除重複
重構的核心是消除三種重複：
- 程式碼重複
- 測試和實作之間的重複（如硬編碼）
- 概念上的重複（如魔術數字）

### 3. 持續演進
- 下一步不是計劃出來的，而是從經驗中浮現
- 每個測試都教會你一些東西
- 信任這個過程，設計會自然出現

## 命令

### `/kb-start` - 啟動 TDD 會話
開始一個新的 TDD 開發會話。建立 `journey.md` 來記錄開發旅程（不是計劃）。

**特點**：
- 不寫需求文件
- 不規劃測試案例
- 只想第一個最簡單的測試

### `/kb-red` - 寫測試（Red）
寫下一個小測試，看它失敗。

**特點**：
- 一次只寫一個測試
- 測試大小根據信心調整
- 支持心理 To-Do List

### `/kb-green` - 讓測試通過（Green）
用最簡單的方式讓測試通過，可以硬編碼、作弊。

**特點**：
- 接受醜陋的程式碼
- 速度優先（幾分鐘內完成）
- 三種策略自由選擇

### `/kb-refactor` - 重構（Refactor）
在測試保護下，消除重複，改善設計。

**特點**：
- 小步重構，頻繁測試
- 重構核心是消除重複
- 測試失敗立即回退

### `/kb-review` - 回顧與規劃
完成一輪循環後，回顧學習，決定下一步。

**選項**：
- 繼續寫下一個測試
- 暫停休息
- 結束會話

## 工作流程

```
/kb-start    ← 開始會話
    ↓
/kb-red      ← 寫測試 (Red)
    ↓
/kb-green    ← 實作 (Green)
    ↓
/kb-refactor ← 重構 (Refactor)
    ↓
/kb-review   ← 回顧
    ↓
循環回 /kb-red 或結束
```

## 適用場景

### 適合使用 Kent Beck TDD 的情況

✅ **探索性開發**
- 問題領域不熟悉
- 需求還不明確
- 想通過測試探索設計

✅ **學習 TDD**
- 理解 TDD 的本質
- 體驗測試驅動設計
- 培養 TDD 思維

✅ **個人開發**
- 不需要大量文檔
- 靈活調整方向
- 快速迭代

✅ **追求簡單**
- 不想過度設計
- 讓設計自然演進
- YAGNI 原則

### 不太適合的情況

❌ **需要詳細文檔**：團隊或組織要求完整的需求和測試計劃文檔

❌ **需求非常明確**：所有測試案例都很清楚，用 Test-First TDD 可能更高效

❌ **合規要求**：需要追蹤需求到測試的完整性驗證

## 生成的文檔

在 `docs/tdd/{feature_name}/` 目錄下：

- **journey.md**：TDD 開發旅程記錄
  - 每一輪的想法、測試、實作、重構
  - 學習和反思
  - 非正式的心理 To-Do List

## 哲學

Kent Beck TDD 的核心是：

> "TDD 的目的不是測試，而是思考。"

這個方法強調：
- 🧪 測試是思考工具，不是驗證工具
- 🌱 設計是演進的，不是規劃的
- 🎯 簡單優先，不要過度設計
- 💚 快速反饋，保持綠燈
- 🔄 持續重構，消除重複

## 開始使用

```bash
/kb-start
```

輸入你的功能想法，開始你的 TDD 旅程！

## 實際專案範例

想看看這個方法的實際應用嗎？

### 🎾 Tennis Kata 範例
**Repository**: [ai-tdd-tennis](https://github.com/cashwu/ai-tdd-tennis)

這是一個使用 Kent Beck TDD 方法開發的完整 Tennis Kata 實作，展示：

- ✅ **有機演進**：從最簡單的測試開始，讓設計自然浮現
- ✅ **開發旅程**：完整的 `journey.md` 記錄每一輪的思考過程
- ✅ **小步快跑**：可以看到 Red-Green-Refactor 的實際循環
- ✅ **真實思考**：記錄了開發過程中的猶豫、決策和學習

**適合學習**：
- 如何從第一個測試開始
- 如何讓設計演進而不是預先設計
- 如何在不確定時用更小的步伐
- 真實的 TDD 思維過程

這個專案是按照本 plugin 的方法論開發的實際範例，可以直接參考！

## 參考資料

- Kent Beck 的書：*Test-Driven Development: By Example*
- 核心概念：Red-Green-Refactor 循環
- 三種策略：Fake It, Obvious Implementation, Triangulation

## 授權

MIT License - 詳見 [LICENSE](../../LICENSE) 文件

Copyright (c) 2025 cash
